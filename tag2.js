!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=235)}({235:function(t,e){!function(){"use strict";var t,e,n,i,r,o,a,s=window.catchpointWebtagSiteID,c=window.catchpointWebtagVersion,u={};u.d=function(t,e){for(var n in e)u.o(e,n)&&!u.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t={},u.r(t),u.d(t,{default:function(){return Yt}});var l,d,f,h=function(){var t=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},p=function(t){if("loading"===document.readyState)return"loading";var e=h();if(e){if(t<e.domInteractive)return"loading";if(0===e.domContentLoadedEventStart||t<e.domContentLoadedEventStart)return"dom-interactive";if(0===e.domComplete||t<e.domComplete)return"dom-content-loaded"}return"complete"},g=function(t){var e=t.nodeName;return 1===t.nodeType?e.toLowerCase():e.toUpperCase().replace(/^#/,"")},m=function(t,e){var n,i,r="";try{for(;t&&9!==t.nodeType;){if(i=(n=t).id?"#"+n.id:g(n)+(n.classList&&n.classList.value&&n.classList.value.trim()&&n.classList.value.trim().length?"."+n.classList.value.trim().replace(/\s+/g,"."):""),r.length+i.length>(e||100)-1)return r||i;if(r=r?i+">"+r:i,n.id)break;t=n.parentNode}}catch(t){}return r},v=-1,y=function(){return v},w=function(t){addEventListener("pageshow",(function(e){e.persisted&&(v=e.timeStamp,t(e))}),!0)},T=function(){var t=h();return t&&t.activationStart||0},E=function(t,e){var n=h(),i="navigate";return y()>=0?i="back-forward-cache":n&&(document.prerendering||T()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:t,value:void 0===e?-1:e,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},b=function(t,e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var i=new PerformanceObserver((function(t){Promise.resolve().then((function(){e(t.getEntries())}))}));return i.observe(Object.assign({type:t,buffered:!0},n||{})),i}}catch(t){}},S=function(t,e,n,i){var r,o;return function(a){e.value>=0&&(a||i)&&((o=e.value-(r||0))||void 0===r)&&(r=e.value,e.delta=o,e.rating=function(t,e){return t>e[1]?"poor":t>e[0]?"needs-improvement":"good"}(e.value,n),t(e))}},C=function(t){requestAnimationFrame((function(){return requestAnimationFrame((function(){return t()}))}))},L=function(t){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t()}))},P=function(t){var e=!1;return function(){e||(t(),e=!0)}},I=-1,k=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},M=function(t){"hidden"===document.visibilityState&&I>-1&&(I="visibilitychange"===t.type?t.timeStamp:0,x())},O=function(){addEventListener("visibilitychange",M,!0),addEventListener("prerenderingchange",M,!0)},x=function(){removeEventListener("visibilitychange",M,!0),removeEventListener("prerenderingchange",M,!0)},D=function(){return I<0&&(I=k(),O(),w((function(){setTimeout((function(){I=k(),O()}),0)}))),{get firstHiddenTime(){return I}}},R=function(t){document.prerendering?addEventListener("prerenderingchange",(function(){return t()}),!0):t()},V=[1800,3e3],j=function(t,e){e=e||{},R((function(){var n,i=D(),r=E("FCP"),o=b("paint",(function(t){t.forEach((function(t){"first-contentful-paint"===t.name&&(o.disconnect(),t.startTime<i.firstHiddenTime&&(r.value=Math.max(t.startTime-T(),0),r.entries.push(t),n(!0)))}))}));o&&(n=S(t,r,V,e.reportAllChanges),w((function(i){r=E("FCP"),n=S(t,r,V,e.reportAllChanges),C((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))},N=[.1,.25],W=function(t,e){!function(t,e){e=e||{},j(P((function(){var n,i=E("CLS",0),r=0,o=[],a=function(t){t.forEach((function(t){if(!t.hadRecentInput){var e=o[0],n=o[o.length-1];r&&t.startTime-n.startTime<1e3&&t.startTime-e.startTime<5e3?(r+=t.value,o.push(t)):(r=t.value,o=[t])}})),r>i.value&&(i.value=r,i.entries=o,n())},s=b("layout-shift",a);s&&(n=S(t,i,N,e.reportAllChanges),L((function(){a(s.takeRecords()),n(!0)})),w((function(){r=0,i=E("CLS",0),n=S(t,i,N,e.reportAllChanges),C((function(){return n()}))})),setTimeout(n,0))})))}((function(e){var n=function(t){var e,n,i,r={};return t.entries.length&&((n=t.entries.reduce((function(t,e){return t&&t.value>e.value?t:e})))&&n.sources&&n.sources.length&&((i=(e=n.sources).find((function(t){return t.node&&1===t.node.nodeType}))||e[0])&&(r={largestShiftTarget:m(i.node),largestShiftTime:n.startTime,largestShiftValue:n.value,largestShiftSource:i,largestShiftEntry:n,loadState:p(n.startTime)}))),Object.assign(t,{attribution:r})}(e);t(n)}),e)},A=0,F=1/0,_=0,U=function(t){t.forEach((function(t){t.interactionId&&(F=Math.min(F,t.interactionId),_=Math.max(_,t.interactionId),A=_?(_-F)/7+1:0)}))},B=[],q=new Map,H=0,z=[],G=function(t){var e,n,i;z.forEach((function(e){return e(t)})),(t.interactionId||"first-input"===t.entryType)&&(e=B[B.length-1],((n=q.get(t.interactionId))||B.length<10||t.duration>e.latency)&&(n?t.duration>n.latency?(n.entries=[t],n.latency=t.duration):t.duration===n.latency&&t.startTime===n.entries[0].startTime&&n.entries.push(t):(i={id:t.interactionId,latency:t.duration,entries:[t]},q.set(i.id,i),B.push(i)),B.sort((function(t,e){return e.latency-t.latency})),B.length>10&&B.splice(10).forEach((function(t){return q.delete(t.id)}))))},X=function(t){var e=self.requestIdleCallback||self.setTimeout,n=-1;return t=P(t),"hidden"===document.visibilityState?t():(n=e(t),L(t)),n},K=[200,500],J=function(t,e){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(e=e||{},R((function(){var n;"interactionCount"in performance||l||(l=b("event",U,{type:"event",buffered:!0,durationThreshold:0}));var i,r=E("INP"),o=function(t){X((function(){t.forEach(G);var e,n=(e=Math.min(B.length-1,Math.floor(((l?A:performance.interactionCount||0)-H)/50)),B[e]);n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,i())}))},a=b("event",o,{durationThreshold:null!==(n=e.durationThreshold)&&void 0!==n?n:40});i=S(t,r,K,e.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),L((function(){o(a.takeRecords()),i(!0)})),w((function(){H=0,B.length=0,q.clear(),r=E("INP"),i=S(t,r,K,e.reportAllChanges)})))})))},Q=[],Y=new Map,$=[],Z=new WeakMap,tt=new Map,et=-1,nt=function(t){Q=Q.concat(t),it()},it=function(){et<0&&(et=X(rt))},rt=function(){var t,e,n,i;for(tt.size>10&&tt.forEach((function(t,e){q.has(e)||tt.delete(e)})),$=$.slice(-50),t=new Set($.concat(B.map((function(t){return Z.get(t.entries[0])})))),Y.forEach((function(e,n){t.has(n)||Y.delete(n)})),e=new Set,Y.forEach((function(t){at(t.startTime,t.processingEnd).forEach((function(t){e.add(t)}))})),n=0;n<50&&((i=Q[Q.length-1-n])&&!(i.startTime<f));n++)e.add(i);Q=Array.from(e),et=-1};z.push((function(t){t.interactionId&&t.target&&!tt.has(t.interactionId)&&tt.set(t.interactionId,t.target)}),(function(t){var e,n,i,r=t.startTime+t.duration;for(f=Math.max(f,t.processingEnd),n=$.length-1;n>=0;n--)if(e=$[n],Math.abs(r-e)<=8){(i=Y.get(e)).startTime=Math.min(t.startTime,i.startTime),i.processingStart=Math.min(t.processingStart,i.processingStart),i.processingEnd=Math.max(t.processingEnd,i.processingEnd),i.entries.push(t),r=e;break}r!==e&&($.push(r),Y.set(r,{startTime:t.startTime,processingStart:t.processingStart,processingEnd:t.processingEnd,entries:[t]})),(t.interactionId||"first-input"===t.entryType)&&Z.set(t,r),it()}));var ot,at=function(t,e){for(var n,i=[],r=0;n=Q[r];r++)if(!(n.startTime+n.duration<t)){if(n.startTime>e)break;i.push(n)}return i},st=function(t,e){d||(d=b("long-animation-frame",nt)),J((function(e){var n=function(t){var e=t.entries[0],n=Z.get(e),i=Y.get(n),r=e.processingStart,o=i.processingEnd,a=i.entries.sort((function(t,e){return t.processingStart-e.processingStart})),s=at(e.startTime,o),c=t.entries.find((function(t){return t.target})),u=c&&c.target||tt.get(e.interactionId),l=[e.startTime+e.duration,o].concat(s.map((function(t){return t.startTime+t.duration}))),d=Math.max.apply(Math,l),f={interactionTarget:m(u),interactionTargetElement:u,interactionType:e.name.startsWith("key")?"keyboard":"pointer",interactionTime:e.startTime,nextPaintTime:d,processedEventEntries:a,longAnimationFrameEntries:s,inputDelay:r-e.startTime,processingDuration:o-r,presentationDelay:Math.max(d-o,0),loadState:p(e.startTime)};return Object.assign(t,{attribution:f})}(e);t(n)}),e)},ct=[2500,4e3],ut={},lt=function(t,e){!function(t,e){e=e||{},R((function(){var n,i,r=D(),o=E("LCP"),a=function(t){e.reportAllChanges||(t=t.slice(-1)),t.forEach((function(t){t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-T(),0),o.entries=[t],n())}))},s=b("largest-contentful-paint",a);s&&(n=S(t,o,ct,e.reportAllChanges),i=P((function(){ut[o.id]||(a(s.takeRecords()),s.disconnect(),ut[o.id]=!0,n(!0))})),["keydown","click"].forEach((function(t){addEventListener(t,(function(){return X(i)}),!0)})),L(i),w((function(i){o=E("LCP"),n=S(t,o,ct,e.reportAllChanges),C((function(){o.value=performance.now()-i.timeStamp,ut[o.id]=!0,n(!0)}))})))}))}((function(e){var n=function(t){var e,n={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:t.value};if(t.entries.length&&(e=h())){var i=e.activationStart||0,r=t.entries[t.entries.length-1],o=r.url&&performance.getEntriesByType("resource").filter((function(t){return t.name===r.url}))[0],a=Math.max(0,e.responseStart-i),s=Math.max(a,o?(o.requestStart||o.startTime)-i:0),c=Math.max(s,o?o.responseEnd-i:0),u=Math.max(c,r.startTime-i);n={element:m(r.element),timeToFirstByte:a,resourceLoadDelay:s-a,resourceLoadDuration:c-s,elementRenderDelay:u-c,navigationEntry:e,lcpEntry:r},r.url&&(n.url=r.url),o&&(n.lcpResourceEntry=o)}return Object.assign(t,{attribution:n})}(e);t(n)}),e)};new Date;(function(t){t.Load="load",t.BeforeUnload="beforeunload",t.Abort="abort",t.Error="error",t.Unload="unload"})(ot||(ot={})),function(t){t[t.None=0]="None",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.DomInteractive=3]="DomInteractive",t[t.DomContentLoaded=4]="DomContentLoaded"}(e||(e={})),function(t){t[t.Focus=0]="Focus",t[t.Blur=1]="Blur"}(n||(n={})),function(t){t[t.OnLoad=0]="OnLoad",t[t.OnBeforeUnload=1]="OnBeforeUnload",t[t.OnAbort=2]="OnAbort",t[t.Flush=3]="Flush"}(i||(i={})),function(t){t[t.DNS=0]="DNS",t[t.Connect=1]="Connect",t[t.Load=2]="Load",t[t.Wait=3]="Wait",t[t.Start=4]="Start",t[t.Redirect=5]="Redirect",t[t.Duration=6]="Duration",t[t.SSL=7]="SSL",t[t.TransferSize=8]="TransferSize"}(r||(r={})),function(t){t.UserId="u",t.SessionId="s",t.SessionTime="t",t.PageViewCount="c",t.UrlCheckSum="k",t.PostFlag="f"}(o||(o={})),function(t){t[t.GET=0]="GET",t[t.POST=1]="POST",t[t.HEAD=2]="HEAD",t[t.DELETE=3]="DELETE",t[t.OPTIONS=4]="OPTIONS",t[t.PUT=5]="PUT",t[t.TRACE=6]="TRACE",t[t.CONNECT=7]="CONNECT"}(a||(a={}));var dt,ft,ht=function(t,e,n,i){var r=this;this.getPerformanceTimings=function(t){r.connect=t.connectEnd-t.connectStart,r.dns=t.domainLookupEnd-t.domainLookupStart,r.duration=t.duration,r.load=t.responseEnd-t.responseStart,r.wait=t.responseStart-t.requestStart,r.start=t.startTime,r.redirect=t.redirectEnd-t.redirectStart,t.secureConnectionStart&&(r.ssl=t.connectEnd-t.secureConnectionStart)},this.url=t,this.method=e,this.isAsync=n,this.open=i},pt=function(){function t(){var e=this;this.fetchRequests=[],this.fetchEntriesIndices={},this.compareEntriesDelay=100,this.hasPerformance="object"==typeof performance&&"function"==typeof window.performance.now&&"function"==typeof window.performance.getEntriesByType,this.captureFetchRequests=function(){var t=[],n=e,i=function(t){return t},r=function(t){return Promise.reject(t)};window.fetch&&(window.fetch=function(e){return function(){for(var o,a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o=0,Promise.resolve(a).then((function(e){var i,r,a,s={};return e.length&&e.length>=1?(i=e[0],e.length>1&&(s=e[1]),r="GET",s.method&&(r=s.method),o=t.length,"",(a="object"==typeof i&&i?Array.isArray(i)&&i.length>0?i[0]:i.url:i)&&t.push(new ht(a,r,!0,n.now())),[i,s]):[]}),i).then((function(t){return e.apply(void 0,t)})).then((function(e){var i=t[o],r=n.fetchRequests;return n.processPerformanceEntries(i,r),e}),r)}}(window.fetch))},this.captureFetchRequests(),t.startAjaxCapture(this)}return t.prototype.getAjaxRequests=function(){return this.fetchRequests},t.prototype.clear=function(){this.fetchRequests=[]},t.prototype.now=function(){return this.hasPerformance?window.performance.now():(new Date).getTime()},t.prototype.processPerformanceEntries=function(t,e){var n=this;setTimeout((function(){var i,r,o,a,s;if(n.hasPerformance){var c=t.url,u=[];for(i=0,r=performance.getEntriesByType("resource");i<r.length;i++)(o=r[i]).name===c&&u.push(o);if(e.push(t),0!==u.length){if(n.fetchEntriesIndices[c]||(n.fetchEntriesIndices[c]=[]),1===u.length)return t.getPerformanceTimings(u[0]),void n.fetchEntriesIndices[c].push(0);for(s in a=n.fetchEntriesIndices[c],u)if(-1===a.indexOf(s))return t.getPerformanceTimings(u[s]),void a.push(s);t.getPerformanceTimings(u[0])}}}),n.compareEntriesDelay)},t.startAjaxCapture=function(t){var e=XMLHttpRequest.prototype,n=e.open,i=e.send,r=[];t.hasPerformance&&"function"==typeof window.performance.setResourceTimingBufferSize&&window.performance.setResourceTimingBufferSize(300),e.open=function(e,i,o,a,s){this.rpIndex=r.length,r.push(new ht(i,e,o,t.now())),n.call(this,e,i,!1!==o,a,s)},e.send=function(e){var n,o=this,a=this.onreadystatechange;this.onreadystatechange=function(e){var n,i,s=r[o.rpIndex];if(s){switch(n=o.readyState,i=!(!o.response||null===o.response||void 0===o.response),n){case 1:s.connectionEstablished=t.now();break;case 2:s.requestReceived=t.now();break;case 3:s.processingTime=t.now();break;case 4:switch(s.complete=t.now(),o.responseType){case"text":case"":"string"==typeof o.responseText&&(s.responseSize=o.responseText.length);break;case"json":i&&"function"==typeof o.response.toString&&(s.responseSize=o.response.toString().length);break;case"arraybuffer":i&&"number"==typeof o.response.byteLength&&(s.responseSize=o.response.byteLength);break;case"blob":i&&"number"==typeof o.response.size&&(s.responseSize=o.response.size)}t.processPerformanceEntries(s,t.fetchRequests)}"function"==typeof a&&a.call(o,e)}},(n=r[this.rpIndex])&&(e&&!isNaN(e.length)&&(n.sendSize=e.length),n.send=t.now(),i.call(this,e))}},t}(),gt=function(){function t(){this.events=[],this.hasAttachEvent=!!window.attachEvent}return t.prototype.add=function(t,e,n){this.events.push({type:t,target:e,func:n}),this.hasAttachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},t.prototype.remove=function(t,e,n){this.hasAttachEvent?e.detachEvent(t,n):e.removeEventListener(t,n,!1);var i=this.events.indexOf({type:t,target:e,func:n});1!==i&&this.events.splice(i,1)},t.prototype.clear=function(){for(var t,e=this.events,n=0;n<e.length;n++)t=e[n],this.remove(t.type,t.target,t.func);this.events=[]},t}(),mt=function(){var t=this;this.hiddenStrings=["hidden","msHidden","webkitHidden","mozHidden"],this.visibilityStrings=["visibilitychange","msvisibilitychange","webkitvisibilitychange","mozvisibilitychange"],this.captureSoftNavigation=!1,this.hidden="hidden",this.visibilityChange="visibilitychange",this.visibilityEvents=[],this.eventManager=new gt,this.engagementTimeIntervalMs=1e3,this.engagementTime=0,this.firstEngagementTime=0,this.lastEventTimeStamp=0,this.timeoutId=void 0,this.startTime=(new Date).getTime(),this.now=function(){return(new Date).getTime()},this.startVisibilityCapture=function(){t.initializeVisibilityProperties(),document.addEventListener(t.visibilityChange,t.captureFocusEvent,!1)},this.initializeVisibilityProperties=function(){for(var e=t.hiddenStrings,n=0,i=0;i<e.length;i++)void 0!==document[e[i]]&&(n=i);t.visibilityChange=t.visibilityStrings[n],t.hidden=t.hiddenStrings[n]},this.captureFocusEvent=function(){t.updateVisibilityChangeTime(),document[t.hidden]||t.captureEngagementTime()},this.updateVisibilityChangeTime=function(){document[t.hidden]?t.captureVisibilityEvent(n.Blur):t.captureVisibilityEvent(n.Focus)},this.onBlur=function(){t.captureVisibilityEvent(n.Blur)},this.onFocus=function(){t.captureVisibilityEvent(n.Focus)},this.captureVisibilityEvent=function(e){t.visibilityEvents.push({type:e,time:t.now()})},this.captureEngagementTime=function(e){if(void 0===e&&(e=!0),!t.lastEventTimeStamp)return t.engagementTime=t.engagementTimeIntervalMs,void(t.lastEventTimeStamp=t.now());var n=t.now()-t.lastEventTimeStamp;if(t.lastEventTimeStamp=t.now(),e&&0===t.firstEngagementTime&&(t.firstEngagementTime=t.now()),n>0&&n<t.engagementTimeIntervalMs)return clearTimeout(t.timeoutId),void(t.engagementTime+=n);t.startTimer()},this.captureMouseMove=function(){t.captureEngagementTime(!1)},this.startTimer=function(){t.timeoutId=window.setTimeout((function(){t.engagementTime+=t.engagementTimeIntervalMs}),t.engagementTimeIntervalMs)},this.getFocusAwayTime=function(){var e,i,r=t.visibilityEvents,o=-1;if(0===r.length)return 0;for(var a=o,s=0,c=o,u=0;s<r.length;)r[s].type===n.Blur&&a===o&&(a=s),e=c===o&&a!==o,r[s].type===n.Focus&&e&&(c=s),a!==o&&c!==o&&((i=r[c].time-r[a].time)>0&&(u+=i),a=o,c=o),s+=1;return a===r.length-1&&(u+=t.now()-r[a].time),u},this.getEngagementTime=function(){return t.engagementTime},this.getStartTime=function(){return t.startTime},this.getFirstEngagementTime=function(){return t.firstEngagementTime},this.startSoftNavigationCapture=function(){t.captureSoftNavigation=!0},this.resetSoftNavigationCapture=function(){t.resetEngagementMetrics(),t.visibilityEvents=[]},this.resetEngagementMetrics=function(){t.engagementTime=0,t.lastEventTimeStamp=t.now(),t.firstEngagementTime=0},this.clear=function(){t.eventManager.clear()},this.captureEngagementTime(!1),this.eventManager.add("scroll",document,this.captureEngagementTime),this.eventManager.add("resize",window,this.captureEngagementTime),this.eventManager.add("mouseup",document,this.captureEngagementTime),this.eventManager.add("keyup",document,this.captureEngagementTime),this.eventManager.add("mousemove",document,this.captureMouseMove),this.eventManager.add("focus",window,this.onFocus),this.eventManager.add("blur",window,this.onBlur),this.eventManager.add("focus",document,this.onFocus),this.eventManager.add("blur",document,this.onBlur)},vt=function(){function t(){var t=this;this.firstInputDelay=0,this.firstInputTimeStamp=0,this.startTime=0,this.delay=0,this.profileManager=new gt,this.eventTypes=["click","mousedown","keydown","touchstart","pointerdown"],this.addEventListeners=function(){t.eventTypes.forEach((function(e){t.profileManager.add(e,document,t.onInput)}))},this.now=function(){return(new Date).getTime()},this.removeEventListeners=function(){t.eventTypes.forEach((function(e){t.profileManager.remove(e,document,t.onInput)}))},this.onInput=function(e){var n,i;e.cancelable&&(n=e.timeStamp>1e12,t.firstInputTimeStamp=t.now(),i=n||!window.performance?t.firstInputTimeStamp:window.performance.now(),t.delay=i-e.timeStamp,"pointerdown"==e.type?t.onPointerDown():(t.removeEventListeners(),t.updateFirstInputDelay()))},this.onPointerUp=function(){t.removeEventListeners(),t.updateFirstInputDelay()},this.onPointerCancel=function(){t.removePointerEventListeners()},this.removePointerEventListeners=function(){t.profileManager.remove("pointerup",document,t.onPointerUp),t.profileManager.remove("pointercancel",document,t.onPointerCancel)},this.updateFirstInputDelay=function(){t.delay>=0&&t.delay<t.firstInputTimeStamp-t.startTime&&(t.firstInputDelay=Math.round(t.delay))},this.startSoftNavigationCapture=function(){t.resetSoftNavigationCapture()},this.resetSoftNavigationCapture=function(){t.resetFirstInputDelay(),t.addEventListeners()},this.resetFirstInputDelay=function(){t.delay=0,t.firstInputDelay=0,t.startTime=0,t.firstInputTimeStamp=0},this.startTime=this.now(),this.addEventListeners()}return t.prototype.onPointerDown=function(){this.profileManager.add("pointerup",document,this.onPointerUp),this.profileManager.add("pointercancel",document,this.onPointerCancel)},t.prototype.getFirstInputDelay=function(){return this.firstInputDelay},t}(),yt=function(){function t(t,e,n){this.count=0,this.message=t,this.url=e,this.lineNumber=n}return t.createText=function(t,e,n){return[t,e,n].join(":")},t.prototype.getText=function(){return t.createText(this.message,this.url,this.lineNumber)},t}(),wt=function(){return(wt=Object.assign||function(t){for(var e,n,i=1,r=arguments.length;i<r;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},Tt=function(){function t(){}var e,n,i,r,o,a;return t.now=function(){return(new Date).getTime()},t.setWindowEvent=function(){a.windowEvent=this.pageWindow.WindowEvent},t.setRProfiler=function(){a.profiler=this.pageWindow.RProfiler},t.setWindowEventDef=function(){var t,e,n,i,r;a.windowEventDef={Load:null===(t=a.windowEvent)||void 0===t?void 0:t.Load,BeforeUnload:null===(e=a.windowEvent)||void 0===e?void 0:e.BeforeUnload,Unload:null===(n=a.windowEvent)||void 0===n?void 0:n.Unload,Abort:null===(i=a.windowEvent)||void 0===i?void 0:i.Abort,Error:null===(r=a.windowEvent)||void 0===r?void 0:r.Error}},t.setAppConfig=function(t){a.config=wt(wt({},a.config),t)},t.initValues=function(){a.setWindowEvent(),a.setRProfiler(),a.setWindowEventDef()},a=t,t.pageWindow=parent.window,t.location=a.pageWindow.location,t.profiler=a.pageWindow.RProfiler,t.windowEvent=a.pageWindow.WindowEvent,t.protocol=a.location.protocol+"//",t.windowEventDef={Load:null===(e=a.windowEvent)||void 0===e?void 0:e.Load,BeforeUnload:null===(n=a.windowEvent)||void 0===n?void 0:n.BeforeUnload,Unload:null===(i=a.windowEvent)||void 0===i?void 0:i.Unload,Abort:null===(r=a.windowEvent)||void 0===r?void 0:r.Abort,Error:null===(o=a.windowEvent)||void 0===o?void 0:o.Error},t.hasPerformanceApi=!!a.pageWindow.performance&&"object"==typeof a.pageWindow.performance,t.hasGetEntriesApi=a.hasPerformanceApi&&"function"==typeof a.pageWindow.performance.getEntriesByType,t.testUserId="test",t.version="v"+c,t.config={sampleRate:-999,waterfallSampleRate:-888,postUrl:a.protocol+"r.3gl.net/hawklogserver/r.p",siteId:s,debugParameter:"GlimpseDebug",debugUrl:"g.3gl.net/jp/v"+c+"/D",waterfallParameter:"GlimpseWaterfall",sendOnLoad:!1,clearResources:!0,ajaxDomains:""},t}(),Et=function(){function t(){this.hasErrors=!1,this._appErrors=null,this.hasIndicators=!1,this._indicators=null,this.hasTracepoints=!1,this._tracepoints=null}return t.prototype.addError=function(t,e){this.hasErrors||(this._appErrors={},this.hasErrors=!0),this._appErrors[t]=e},t.prototype.getErrors=function(){return this._appErrors},t.prototype.addIndicator=function(t){for(var e in this.hasIndicators||(this._indicators={},this.hasIndicators=!0),t)this._indicators[e]=t[e]},t.prototype.getIndicators=function(){return this._indicators},t.prototype.addTracepoint=function(t){for(var e in this.hasTracepoints||(this._tracepoints={},this.hasTracepoints=!0),t)this._tracepoints[e]=t[e]},t.prototype.getTracepoints=function(){return this._tracepoints},t}(),bt=function(){function t(){}return t.getValue=function(e,n){var i=0!==e.responseStart;switch(n){case r.DNS:return t.getMetricValue(e.domainLookupEnd,e.domainLookupStart,i);case r.Connect:return t.getMetricValue(e.connectEnd,e.connectStart,i);case r.Load:return t.getMetricValue(e.responseEnd,e.responseStart,i);case r.Wait:return t.getMetricValue(e.responseStart,e.requestStart,i);case r.Start:return e.startTime;case r.Redirect:return t.getMetricValue(e.redirectEnd,e.redirectStart);case r.Duration:return e.duration;case r.SSL:if(e.secureConnectionStart)return i?e.connectEnd-e.secureConnectionStart:null;break;case r.TransferSize:return e.transferSize}return 0},t.getMetricValue=function(t,e,n){if(void 0===n&&(n=!0),!n)return null;if(t>=0&&t>=e&&e>=0){var i=t-e;return Math.round(i)}},t.getRoundedValue=function(t){return t?Math.round(t):t},t.getQueryStringValue=function(t){for(var e,n=location.search.substring(1).split("&"),i=0;i<n.length;i++)if((e=n[i].split("="))[0]==t)return e[1];return""},t.stopEvents=function(){Tt.profiler&&(Tt.profiler.eventManager.clear(),Tt.profiler.getEventTimingHandler().clear())},t.getLoadStateEnum=function(t){switch(t){case"loading":return e.Loading;case"dom-content-loaded":return e.DomContentLoaded;case"dom-interactive":return e.DomInteractive;case"complete":return e.Complete;default:return e.None}},t.getNavigationTime=function(){var t=null,e=Tt.hasGetEntriesApi&&Tt.pageWindow.performance.getEntriesByType("navigation");return e&&0!==e.length&&(t=e[0]),t},t.getNavigationStart=function(t){return t.startTime},t}(),St=function(){function t(t){this.dns=null,this.connect=null,this.load=null,this.wait=null,this.start=0,this.duration=0,this.redirect=0,this.ssl=null,this.url=t.name;var e=bt.getValue;this.dns=e(t,r.DNS),this.connect=e(t,r.Connect),this.wait=e(t,r.Wait),this.load=e(t,r.Load),this.start=e(t,r.Start),this.duration=e(t,r.Duration),this.redirect=e(t,r.Redirect),this.ssl=e(t,r.SSL),this.transferSize=e(t,r.TransferSize)}return Object.defineProperty(t.prototype,"url",{get:function(){return this._url},set:function(t){var e,n,i,r;-1!==t.indexOf("http://")?this.protocol=0:-1!==t.indexOf("https://")&&(this.protocol=1),-1!=(n=(e=t.split("/").slice(1,3).join("")).indexOf(":"))&&(i=e.substr(n+1),r=parseInt(i),isNaN(r)||(this.port=r)),-1!=(n=(t=t.substr(t.indexOf(e)+e.length)).indexOf("?"))&&(t=t.substr(0,n)),-1!=(n=t.indexOf("#"))&&(t=t.substr(0,n)),t=t.substr(0,64),this._url=t},enumerable:!1,configurable:!0}),t.prototype.translateForPost=function(){var t=bt.getRoundedValue,e={u:this.url,pr:this.protocol},n=function(t,n){"number"!=typeof n||isNaN(n)||(e[t]=n)};return n("pt",this.port),n("dn",t(this.dns)),n("fc",t(this.connect)),n("ld",t(this.load)),n("wt",t(this.wait)),n("st",t(this.start)),n("rd",t(this.redirect)),n("dr",t(this.duration)),n("ssl",t(this.ssl)),n("ts",this.transferSize),e},t}(),Ct=(ft=function(t,e){return(ft=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ft(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lt=function(t){function e(e,n,i){var r=t.call(this,n)||this;return r.responseTime=0,r.sendSize=0,r.responseSize=0,r.method=a[e.method.toUpperCase()],e.complete&&e.connectionEstablished&&(r.responseTime=e.complete-e.connectionEstablished),r.isSummary=i,i?(r.start=void 0,r.count=1):r.isAsync=e.isAsync,r.sendSize=e.sendSize||0,r.responseSize=e.responseSize||0,r}return Ct(e,t),e.prototype.update=function(t,e){var n=bt.getValue;e.responseStart&&(this.dns+=n(e,r.DNS),this.connect+=n(e,r.Connect),this.wait+=n(e,r.Wait),this.load+=n(e,r.Load),this.ssl+=n(e,r.SSL)),this.duration+=n(e,r.Duration),this.redirect+=n(e,r.Redirect),this.sendSize+=t.sendSize||0,this.responseSize+=t.responseSize||0,this.count++},e.prototype.translateForPost=function(){var e=t.prototype.translateForPost.call(this);return this.isSummary?e.n=this.count:e.ia=this.isAsync?1:0,e.md=this.method,e.rp=Math.round(this.responseTime),e.ss=this.sendSize,e.rs=this.responseSize,e},e}(St),Pt=function(){function t(){this.count=0,this.dns=null,this.connect=null,this.load=null,this.wait=null,this.duration=0,this.redirect=0,this.ssl=null}return t.prototype.addAjaxItem=function(t,e){var n,i,r,o;if(this.update(e),n=new Lt(t,e,!0),void 0===this._ajax)return this._ajax=[],void this._ajax.push(n);for(i=0,r=this._ajax;i<r.length;i++)if((o=r[i]).url==n.url)return void o.update(t,e);this._ajax.length<10&&this._ajax.push(n)},t.prototype.update=function(t){var e=bt.getValue;t.responseStart&&(this.dns+=e(t,r.DNS),this.connect+=e(t,r.Connect),this.wait+=e(t,r.Wait),this.load+=e(t,r.Load),this.ssl+=e(t,r.SSL)),this.duration+=e(t,r.Duration),this.redirect+=e(t,r.Redirect),this.count++},t.prototype.translateForPost=function(){var t,e,n,i,r=bt.getRoundedValue,o={n:this.count,dn:r(this.dns),fc:r(this.connect),ld:r(this.load),wt:r(this.wait),dr:r(this.duration),rd:r(this.redirect),ssl:r(this.ssl)};if(this._ajax){for(t=[],e=0,n=this._ajax;e<n.length;e++)i=n[e],t.push(i.translateForPost());o.ax=t}return o},t}(),It=function(){function t(){this._resources=[]}return t.prototype.translateForPost=function(){for(var t,e=[],n=0,i=this._resources;n<i.length;n++)t=i[n],e.push(t.translateForPost());return e},t.prototype.addItem=function(t){var e=new St(t);this._resources.push(e)},t.prototype.addAjaxItem=function(t,e){var n=new Lt(t,e,!1);this._resources.push(n)},t}(),kt=function(t){this.char=t,this.children=[]},Mt=function(){function t(){this.root=new kt(""),this.isReversed=!0}return t.prototype.add=function(t,e){var n,i,r,o,a;for(void 0===t&&(t=this.root),i=0,r=n=t.children;i<r.length;i++)if((o=r[i]).char==e)return o;return a=new kt(e),n.push(a),a.parent=t,a},t.prototype.toObject=function(){var t={},e=this.isReversed;return function t(n,i){var r,o,a;if(""==n.char)r=i;else{if(o=n.char,1==n.children.length)for(;1==n.children.length;)n=n.children[0],o=e?n.char+o:o+n.char,n.data&&(i[o]=n.data);i[o]=n.data||{},r=i[o]}for(a=0;a<n.children.length;a++)t(n.children[a],r)}(this.root,t),t},t}(),Ot=(dt=function(t,e){return(dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.maxJsErrors=10,e.charCodes={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","&":"%26"},e.strRegex=/["&\\\x00-\x1f\x7f-\x9f]/g,e}return Ot(e,t),e.prototype.toString=function(t,e){var n=this.translateForPost(t,e);return"undefined"==typeof JSON?this.jsonStringify(n):JSON.stringify(n)},e.prototype.strEscape=function(t){var e,n=this.charCodes[t];return n||(e=t.charCodeAt(0),"\\u00"+Math.floor(e/16).toString(16)+(e%16).toString(16))},e.prototype.jsonStringify=function(t){var e,n,i,r,o,a=[];switch(typeof t){case"string":return this.strRegex.test(t)?'"'+t.replace(this.strRegex,this.strEscape)+'"':'"'+t+'"';case"number":return isFinite(t)?String(t):"null";case"boolean":return String(t);case"object":if(!t)return"null";if(t.constructor,Date,"number"==typeof t.length&&!t.propertyIsEnumerable("length")){for(e=0,n=t;e<n.length;e++)i=n[e],a.push(this.jsonStringify(i));return"["+a.join(",")+"]"}for(r in t)"string"==typeof r&&(!(o=this.jsonStringify(t[r]))||a.push(this.jsonStringify(r)+":"+o));return"{"+a.join(",")+"}"}return""},e.prototype.translateForPost=function(t,e){var n,r,o,a=this.viewCount>1,s={};if(s.v=Tt.version,s.pt=this.postType,s.ui=this.userId,s.si=this.sessionId,s.di=this.siteId,s.pi=this.pageViewId,s.jsc=this.jsErrorCount||0,s.rf=this.referrer,s.pc=this.pageViewCount,s.vc=this.viewCount,s.rc=this.redirectCount||0,this.jsErrors&&this.jsErrors.length>0){for(n=[],r=0;r<Math.min(this.jsErrors.length,this.maxJsErrors);r++)n.push(this.translateErrorForPost(this.jsErrors[r]));s.jse=n}return this.hasErrors&&(s.ae=this.getErrors()),this.pageGroup&&(s.pg=this.pageGroup),this.variation&&(s.ab=this.variation),(this.resources||this.ajaxRequests)&&(o=this.translateResources(this.resources,this.ajaxRequests),s.res=o.summary,e&&(s.wf=o.waterfall)),"boolean"==typeof this.isNewView&&(s.nv=this.isNewView?1:0),this.hasIndicators&&(s.ind=this.getIndicators()),this.hasTracepoints&&(s.tra=this.getTracepoints()),this.isConversion&&(s.cv=this.isConversion?1:0,this.revenue&&(s.rv=this.revenue),this.revenueItems&&(s.ri=this.revenueItems)),s.np=this.isNewPageView?1:0,(t===i.OnLoad||t===i.OnAbort)&&(s.dh=this.screenHeight,s.dw=this.screenWidth,this.isNewPageView&&(s.dn=Math.round(this.dns),s.fc=Math.round(this.fullConnect),s.wt=Math.round(this.wait),s.ld=Math.round(this.load),s.de=this.domInteractive,s.dl=this.domLoaded,s.dc=this.docComplete,s.rp=this.response,s.cl=this.contentLoad,s.rd=this.redirect,s.rc=this.redirectCount||0,s.cls=this.cls,s.lcp=this.lcp,s.inp=this.inp,s.frc=this.frc,s.fec=this.fec,s.fdc=this.fdc,s.ftc=this.ftc,this.secureConnect&&(s.sc=this.secureConnect),this.exitToEntry&&(s.xe=this.exitToEntry),this.entryToOnLoad&&(s.el=this.entryToOnLoad),this.prerender&&(s.pr=this.prerender))),t===i.OnBeforeUnload&&(s.maf=this.markAboveTheFold,s.mfl=this.markFullyLoaded,s.mfv=this.markFullyVisible,s.mtu=this.markTimeToUserAction,s.tp=this.timeOnPage,s.tti=this.timeToInteract,s.et=this.engagementTime,s.fet=this.firstEngagementTime,s.fid=this.firstInputDelay,s.vct=this.visComplete,s.fid=this.firstInputDelay,a||(s.fp=this.firstPaint,s.fcp=this.firstContentPaint,s.cls=this.cls,s.lcp=this.lcp,s.inp=this.inp,s.frc=this.frc,s.fec=this.fec,s.fdc=this.fdc,s.ftc=this.ftc,s.inpDe=this.inpDe)),(t===i.OnBeforeUnload||t===i.OnAbort)&&(s.rqc=this.rqc),s},e.prototype.translateErrorForPost=function(t){var e,n,i={};return i.m=t.message,i.n=t.lineNumber,i.c=t.count+1,(e=t.url)&&(-1!=(n=e.indexOf("?"))&&(e=e.substr(0,n))),i.u=e,i},e.prototype.translateResources=function(t,e){var n,i,r,o,a,s,c,u,l,d,f,h,p,g,m,v,y=this,w=!!t,T=!!e;if(!w&&!T)return null;if(n=function(t){var n,i,r,o,a;if(!w||!T)return null;for(n=0,i=y.filterAjaxResources(e);n<i.length;n++){var s=i[n],c=s.url,u="";if(c&&0!=c.indexOf("http")){for(r=0,o=location.href,a=0;a<o.length;a++)if("/"===o[a]&&(r+=1),3===r){u=o.slice(0,a),u+=c;break}if(u===t.name)return s}if(c===t.name)return s}return null},i={},t)for(r=0,o=t;r<o.length;r++)(a=o[r])&&((s=a.name.split("/").slice(1,3).join(""))&&0!=s.length)&&(-1!=(c=s.indexOf(":"))&&(s=s.substr(0,c)),i.hasOwnProperty(s)||(i[s]={summary:new Pt,waterfall:new It}),u=i[s],(l=n(a))?(u.summary.addAjaxItem(l,a),u.waterfall.addAjaxItem(l,a)):(u.summary.update(a),u.waterfall.addItem(a)));for(f in d=new Mt,i){for(g=void 0,m=f.length-1;m>=0;m--)v=f[m],g=d.add(g,v);g.data=i[f].summary.translateForPost()}for(p in h=new Mt,i){for(g=void 0,m=p.length-1;m>=0;m--)v=p[m],g=h.add(g,v);g.data=i[p].waterfall.translateForPost()}return{summary:d.toObject(),waterfall:h.toObject()}},e.prototype.filterAjaxResources=function(t){if(""===Tt.config.ajaxDomains||void 0===Tt.config.ajaxDomains)return t;var e=function(t){var e=/([a-z\-0-9]{2,63})\.([a-z\.]{2,5})$/.exec(t);return e&&e[0]},n=function(t){return/(http|https)?:\/\/(\S+)/g.test(t)?t:"https://".concat(t)},i=Tt.config.ajaxDomains.split(",");return t.filter((function(t){var r=function(t){var e=/^(?:https?:\/\/)?(?:[^@\/\n]+@)?(?:www\.)?([^:\/?\n]+)/.exec(t);if(null!==e)return e[1]}(t.url),o=n(t.url),a=new URL(o).host,s=e(a);return i.some((function(t){var i=n(t),o=new URL(i).host,a=o.replace("www.",""),c=e(o);return a!==c?a===r:s===c}))}))},e}(Et),Dt=function(){function t(){}return t.save=function(e){t.canUseLocalStorage()?Tt.pageWindow.localStorage.setItem(t.storeKey,e):t.setCookie(e)},t.read=function(){if(t.canUseLocalStorage()){var e=Tt.pageWindow.localStorage.getItem(t.storeKey);if(e)return e}return this.readCookie()},t.canUseLocalStorage=function(){var e,n,i=!0;try{n=(e=t.storeKey+"delete")+0,Tt.pageWindow.localStorage.setItem(e,n),(i=n===Tt.pageWindow.localStorage.getItem(e))&&Tt.pageWindow.localStorage.removeItem(e)}catch(t){i=!1}return i},t.setCookie=function(e){var n=new Date;n.setTime(n.getTime()+864e5*t.cookieExpireDays);var i="; expires="+n.toUTCString(),r=Tt.pageWindow.document.domain.split("."),o=r.length,a=r[o-2]+"."+r[o-1];document.cookie=t.storeKey+"="+encodeURIComponent(e)+i+"; path=/; domain="+a+"; SameSite=Lax;"},t.readCookie=function(){for(var e,n=Tt.pageWindow.document.cookie.split(";"),i=t.storeRegex,r=0,o=n;r<o.length;r++)if(e=o[r],i.test(e))return decodeURIComponent(e.substring(e.indexOf("=")+1,e.length));return""},t.cookieExpireDays=365,t.storeKey="__CG",t.storeRegex=new RegExp("^(\\s)*"+t.storeKey+"=","i"),t}(),Rt=function(){function t(){this.userId=-1,this.sessionId=0,this.sessionTime=0,this.pageViewCount=0,this.viewCount=0,this.pageViewId=0,this.postFlag=-1,this.sendWaterfall=!1,this.exitToEntry=0}return t.prototype.resetViewCount=function(){this.viewCount=1},t.prototype.save=function(){var t=this.getText();Dt.save(t)},t.prototype.load=function(){var t,e,n,i,r,a,s=Dt.read();if(!s)return!1;for(t=0,e=s.split(",");t<e.length;t++)if(2===(n=e[t].split(":")).length){if("string"==typeof(i=n[0])&&(i=i.trim()),r=n[1],i===o.UrlCheckSum){this.urlCheckSum=r;continue}if(a=parseInt(n[1],10),!isNaN(a))switch(i){case o.UserId:this.userId=a;break;case o.SessionId:this.sessionId=a;break;case o.SessionTime:this.sessionTime=a;break;case o.PageViewCount:this.pageViewCount=a;break;case o.PostFlag:this.postFlag=a}}return!0},t.prototype.getText=function(){var t=o.UserId+":"+this.userId+",";return t+=o.SessionId+":"+this.sessionId+",",t+=o.SessionTime+":"+this.sessionTime+",",t+=o.PageViewCount+":"+this.pageViewCount+",",(t+=o.UrlCheckSum+":"+this.urlCheckSum+",")+(o.PostFlag+":")+this.postFlag},t}(),Vt=function(){function t(){this.sessionExpire=18e5,this.store=new Rt}return t.prototype.updateSessionTime=function(){if(this.store){var t=(new Date).getTime();t-this.store.sessionTime>this.sessionExpire&&(this.store.sessionId=0),this.store.sessionTime=t,this.updateStore()}},t.prototype.updateStore=function(){this.store&&this.store.save()},t.prototype.initStore=function(){this.store.load()},t.prototype.checkAndResetPostFlags=function(){var t,e;this.store.postFlag=0,Tt.config.sampleRate<0?this.store.postFlag=-1:(t=this.getUserId(Tt.config.sampleRate/100),this.store.userId<=t&&(this.store.postFlag=1,e=t/(100/Tt.config.waterfallSampleRate),this.store.sendWaterfall=this.store.userId<=e))},t.prototype.getReferrer=function(t){for(var e=this.getHostName(t).replace(":","-"),n=t.indexOf("?"),i=0,r=e.length;r<t.length;r++)i+=t.charCodeAt(r)%r;return e+"/"+(n<0?t.length:n)+"/"+t.length+"/"+i},t.prototype.getHostName=function(t){var e=t.indexOf("//")+2,n=t.indexOf("/",e);return e<2&&-1==n?t:(-1==n&&(n=t.length),t.substring(e,n))},t.prototype.init=function(){var t=Tt.profiler.data.start;return this.initStore(),(-1==this.store.userId||this.store.userId==Tt.testUserId)&&(this.store.userId=this.getUserId()),this.checkAndResetPostFlags(),0==this.store.sessionId||t-this.store.sessionTime>this.sessionExpire?(this.store.sessionId=Math.floor(1+Math.random()*((Math.pow(2,32)-2)/2)),this.store.pageViewCount=1):(this.store.pageViewCount<65535&&this.store.pageViewCount++,this.getReferrer(Tt.pageWindow.document.referrer)==this.store.urlCheckSum&&this.store.sessionTime>0&&(this.store.exitToEntry=t-this.store.sessionTime)),this.store.sessionTime=(new Date).getTime(),this.store.pageViewId=Math.floor(1+Math.random()*((Math.pow(2,16)-2)/2)),this.store.urlCheckSum=this.getReferrer(Tt.pageWindow.location.href),this.store.resetViewCount(),this.updateStore(),this.store.load()},t.prototype.getUserId=function(t){return void 0===t&&(t=Math.random()),Math.floor(1+t*((Math.pow(2,64)-2)/2))},t.prototype.shouldPost=function(){return 1==this.store.postFlag},t}(),jt=function(){function t(t){var e,n=this;this.longTaskEndTime=0,this.waitTime=5e3,this.performanceObserverApi=Tt.pageWindow.PerformanceObserver,this.performanceLongTaskTiming=Tt.pageWindow.PerformanceLongTaskTiming,this.nowTime=0,this.isSoftnav=!1,this.getDomContentLoad=function(){var t,e=bt.getNavigationTime();if(e)return t=bt.getNavigationStart(e),bt.getMetricValue(e.domContentLoadedEventEnd,t)},this.observeLongTask=function(t){for(var e=0;e<t.length;e++){var i=t[e];(n.isSoftnav?i.startTime-n.nowTime:i.startTime)-n.longTaskEndTime>=n.waitTime?n.performanceObserver.disconnect():n.setLongTaskTime(i)}},this.setLongTaskTime=function(t){var e=Math.round(t.startTime+t.duration);n.longTaskEndTime=e},this.getLongTaskTime=function(){return n.longTaskEndTime},this.performanceLongTaskTiming&&(this.isSoftnav=t,this.nowTime=Tt.pageWindow.performance.now(),e=this.getDomContentLoad(),t||(this.longTaskEndTime=e),this.observe(["longtask"],this.observeLongTask))}return t.prototype.observe=function(t,e){this.performanceObserverApi&&(this.performanceObserver=new this.performanceObserverApi((function(t){var n=t.getEntries();e(n)})),this.performanceObserver.observe({entryTypes:t}))},t}(),Nt=new jt(!1),Wt=function(){function t(){var t,e,n,r,o,a=this;if(this.visitor=new Vt,this.postUrl=Tt.config.postUrl,this.didSendInitial=!1,this.isDebugging=!1,this.countResourcesSent=0,this.didSoftNavigation=!1,this.currentUrl="",this.softNavigationStart=0,this.MaxNumberOfPerformanceMarks=1e3,this.updatePerformanceMetrics=function(t){var e=bt.getNavigationTime();if(e){var n=e,i=bt.getNavigationStart(e),r=n.loadEventEnd,o=e.responseStart;t.dns=o?e.domainLookupEnd-e.domainLookupStart:null,t.fullConnect=o?e.connectEnd-e.connectStart:null,t.wait=o?e.responseStart-e.requestStart:null,t.load=o?e.responseEnd-e.responseStart:null,t.domInteractive=bt.getMetricValue(e.domInteractive,i),t.domLoaded=bt.getMetricValue(e.domContentLoadedEventStart,i),t.docComplete=bt.getMetricValue(e.domComplete,i),t.response=bt.getMetricValue(e.responseEnd,i),t.contentLoad=bt.getMetricValue(e.loadEventStart,r),t.redirect=e.redirectEnd-e.redirectStart,e.secureConnectionStart&&(t.secureConnect=e.connectEnd-e.secureConnectionStart)}},this.updateResources=function(t,e){if(Tt.hasPerformanceApi){var n=[];Tt.hasGetEntriesApi&&(n=Tt.pageWindow.performance.getEntriesByType("resource")),t!=i.OnLoad&&(a.setClearResources(),Tt.config.clearResources&&Tt.pageWindow.performance.clearResourceTimings?(e.resources=n,e.rqc=n.length,Tt.pageWindow.performance.clearResourceTimings()):(e.resources=n.slice(a.countResourcesSent),a.countResourcesSent=n.length))}},this.getTimeOnPage=function(t){var e=a.getFocusAwayTime(),n=a.getNavigationStart(t);return Tt.now()-n-e},this.getVisuallyComplete=function(t){if(Tt.pageWindow.CPVisuallyComplete){var e=Tt.pageWindow.CPVisuallyComplete.getValue(t);if("number"==typeof e&&e>=0)return e}},this.updateEngagementMetrics=function(t,e){var n,i;if(Tt.hasGetEntriesApi&&((n=Tt.pageWindow.performance.getEntriesByType("paint"))&&n.length>0&&(t.firstPaint=a.getPaintTimings(n,"first-paint"),t.firstContentPaint=a.getPaintTimings(n,"first-contentful-paint"))),i=bt.getNavigationTime()){var r=bt.getNavigationStart(i),o=bt.getMetricValue(i.domContentLoadedEventEnd,r),s=Nt.getLongTaskTime();t.timeToInteract=e?s||a.getVisuallyComplete(e):o&&o<s?s:o}Tt.profiler.getEventTimingHandler&&(t.engagementTime=Tt.profiler.getEventTimingHandler().getEngagementTime(),t.timeOnPage=a.getTimeOnPage(e),t.firstEngagementTime=a.getFirstEngagementTime(e)),Tt.profiler.getInputDelay&&(t.firstInputDelay=Tt.profiler.getInputDelay().getFirstInputDelay())},this.getFirstEngagementTime=function(t){var e=a.getNavigationStart(t),n=Tt.profiler.getEventTimingHandler().getFirstEngagementTime();return n&&e?n-e:0},this.getNavigationStart=function(t){var e=Tt.profiler.getEventTimingHandler&&"function"==typeof Tt.profiler.getEventTimingHandler&&Tt.profiler.getEventTimingHandler().getStartTime&&"function"==typeof Tt.profiler.getEventTimingHandler().getStartTime?Tt.profiler.getEventTimingHandler().getStartTime():0;return t?a.softNavigationStart:e},this.getElapsedTimeSinceLatestNavStart=function(){var t=Tt.profiler.data.start;return a.didSoftNavigation&&t?a.softNavigationStart-t:0},this.getFocusAwayTime=function(){return Tt.profiler.getEventTimingHandler().getFocusAwayTime()||0},this.updateDebugData=function(){var t=a.createInitPostObject(i.OnBeforeUnload,!1),e=a.visitor.store.sendWaterfall||!!bt.getQueryStringValue(Tt.config.waterfallParameter),n=t.toString(i.OnLoad,e);Tt.profiler.debugData=t,Tt.profiler.unloadDebugData=n},this.onPageLoad=function(){if(a.isDebugging)return Tt.profiler.debugData=a.createInitPostObject(i.OnLoad,!1),Tt.profiler.updateDebugData=a.updateDebugData,Tt.profiler.sendData=function(){a.doPost(i.OnBeforeUnload,!1)},void bt.stopEvents();a.visitor.updateSessionTime(),a.doPost(i.OnLoad,!1)},this.captureSoftNavigations=function(){var t,e,n,i,r,o,s;Tt.profiler.eventManager.add("hashchange",Tt.pageWindow,a.onSoftNavigation),(t=Tt.pageWindow.history)&&(e="function",typeof t.go===e&&(n=t.go,t.go=function(e){a.onSoftNavigation(),n.call(t,e)}),typeof t.back===e&&(i=t.back,t.back=function(){a.onSoftNavigation(),i.call(t)}),typeof t.forward===e&&(r=t.forward,t.forward=function(){a.onSoftNavigation(),r.call(t)}),typeof t.pushState===e&&(o=t.pushState,t.pushState=function(e,n,i){a.onSoftNavigation(),o.call(t,e,n,i)}),typeof t.replaceState===e&&(s=t.replaceState,t.replaceState=function(e,n,i){a.onSoftNavigation(),s.call(t,e,n,i)}))},this.onViewVisuallyComplete=function(){a.didSoftNavigation&&a.doPost(i.OnLoad,!0)},this.onSoftNavigation=function(){var t;Tt.profiler.data.loadFired&&(Nt&&(Nt=new jt(!0)),Tt.pageWindow.CPVisuallyComplete&&(t=Tt.pageWindow.CPVisuallyComplete).onComplete(a.onViewVisuallyComplete),a.doPost(i.OnBeforeUnload,a.didSoftNavigation),a.visitor.store.viewCount++,t&&Tt.pageWindow.setTimeout((function(){t.reset()}),0),Tt.pageWindow.setTimeout((function(){if(a.softNavigationStart=Tt.now(),Tt.profiler.getEventTimingHandler){var t=Tt.profiler.getEventTimingHandler(),e=Tt.profiler.getInputDelay();t.startSoftNavigationCapture(),e.startSoftNavigationCapture(),t.resetSoftNavigationCapture()}}),0),a.didSoftNavigation=!0)},this.doPost=function(t,e){var n;if(a.visitor.shouldPost()){t!=i.OnBeforeUnload||Tt.profiler.data.loadFired||(t=i.OnAbort),a.didSendInitial?n=a.createDiffPostObject(t,e):(n=a.createInitPostObject(t,e),a.didSendInitial=!0);var r=a.visitor.store.sendWaterfall||!!bt.getQueryStringValue(Tt.config.waterfallParameter),o=t==i.OnBeforeUnload||t==i.OnAbort,s=r&&o;a.makeRequest(t,n,s)}},Tt.profiler&&Tt.profiler.data){if(t=this.visitor.init(),this.isDebugging=!!bt.getQueryStringValue(Tt.config.debugParameter),!this.isDebugging&&!t)return void bt.stopEvents();this.captureSoftNavigations(),e=!1,n=function(){e||(Tt.profiler.data.loadFired=!0,e=!0,a.onPageLoad())},Tt.profiler.data.loadFired||!Tt.pageWindow.document||(Tt.profiler.data.loadFired="complete"===Tt.pageWindow.document.readyState),Tt.profiler.data.loadFired?n():Tt.profiler.eventManager.add(Tt.windowEventDef.Load,parent.window,n),r=!1,o=function(){r||(r=!0,a.doPost(i.OnBeforeUnload,!1))},Tt.profiler.eventManager.add(Tt.windowEventDef.BeforeUnload,Tt.pageWindow,o),Tt.profiler.eventManager.add(Tt.windowEventDef.Unload,Tt.pageWindow,o)}}return t.prototype.createInitPostObject=function(t,e){var n,r,o,a=this.createBasePostObj(t,!0,e);return this.updatePerformanceMetrics(a),(n=this.visitor.store).exitToEntry>0&&(a.exitToEntry=n.exitToEntry),(r=Tt.profiler.data.loadTime-Tt.profiler.data.start)>0&&(a.entryToOnLoad=r),"prerender"===document.webkitVisibilityState&&(a.prerender=1),Tt.hasPerformanceApi&&(o=void 0,Tt.hasGetEntriesApi&&(o=Tt.pageWindow.performance.getEntriesByType("resource"),a.resources=o),t!=i.OnLoad&&(this.setClearResources(),Tt.config.clearResources&&Tt.pageWindow.performance.clearResourceTimings?Tt.pageWindow.performance.clearResourceTimings():this.countResourcesSent=o.length)),a},t.prototype.createDiffPostObject=function(t,e){var n,i,r,o,a,s,c,u,l=this.createBasePostObj(t,!1,e);return this.updateResources(t,l),this.updateEngagementMetrics(l,e),this.addPerformanceMarksToPostData(Tt.pageWindow.performance,l),(a=this.getVisuallyComplete(e))&&(l.visComplete=a),(null===(n=null==Tt?void 0:Tt.profiler)||void 0===n?void 0:n.getCPWebVitals)&&((s=Tt.profiler.getCPWebVitals()).cls&&(l.cls=s.cls),s.lcp&&(l.lcp=s.lcp),s.inp&&(l.inp=s.inp),s.inpDe&&s.inpDe.length>0&&(l.inpDe=s.inpDe)),(null===(r=null===(i=null==Tt?void 0:Tt.profiler)||void 0===i?void 0:i.data)||void 0===r?void 0:r.jsCount)>0&&(l.jsErrorCount=Tt.profiler.data.jsCount,l.jsErrors=Tt.profiler.data.jsErrors,Tt.profiler.clearErrors()),(null===(o=null==Tt?void 0:Tt.profiler)||void 0===o?void 0:o.getAjaxRequests)&&((c=Tt.profiler.getAjaxRequests())&&(l.ajaxRequests=c.slice(),Tt.profiler.clearAjaxRequests())),(null==Tt?void 0:Tt.profiler.getFrustrationMetrics)&&((u=Tt.profiler.getFrustrationMetrics())&&(l.frc=u.frc,l.fec=u.fec,l.fdc=u.fdc,l.ftc=u.ftc)),l},t.prototype.createBasePostObj=function(t,e,n){var r,o=new xt;return o.postType=t,o.isNewPageView=e,o.siteId=Tt.config.siteId,o.referrer=encodeURI(decodeURI(Tt.pageWindow.location.href)),o.sampleRate=Tt.config.sampleRate,o.waterfallSampleRate=Tt.config.waterfallSampleRate,r=this.visitor.store,o.userId=r.userId,o.sessionId=r.sessionId,o.pageViewId=r.pageViewId,o.pageViewCount=r.pageViewCount,o.viewCount=r.viewCount,o.screenHeight=screen.height,o.screenWidth=screen.width,this.currentUrl=o.referrer,o.referrer=(t===i.OnBeforeUnload||t===i.OnAbort)&&this.currentUrl||encodeURI(decodeURI(Tt.pageWindow.location.href)),n&&(o.isNewView=t==i.OnLoad),Tt.profiler.hasInsight&&(this.addInsightForPost(o),Tt.profiler.clearInfo()),o},t.prototype.addPerformanceMarksToPostData=function(t,e){var n,i,r,o,a;if(Tt.hasPerformanceApi&&t.getEntriesByType&&((n=t.getEntriesByType("mark"))&&n.length>0&&n.length<this.MaxNumberOfPerformanceMarks))for(i=this.getElapsedTimeSinceLatestNavStart(),r=0,o=n.filter((function(t){return null!=t.startTime&&t.startTime>=i}));r<o.length;r++)a=o[r],this.addMarkToPostData(a,e)},t.prototype.addMarkToPostData=function(t,e){var n=bt.getRoundedValue(t.startTime+t.duration);switch(t.name){case"mark_fully_loaded":e.markFullyLoaded=n;break;case"mark_fully_visible":e.markFullyVisible=n;break;case"mark_above_the_fold":e.markAboveTheFold=n;break;case"mark_time_to_user_action":e.markTimeToUserAction=n}},t.prototype.getPaintTimings=function(t,e){var n=t.filter((function(t){return t.name===e}));if(n&&n.length>0&&n[0].startTime)return n[0].startTime},t.prototype.setClearResources=function(){Tt.pageWindow.__cpPreventResourceClear&&(Tt.config.clearResources=!1===Tt.pageWindow.__cpPreventResourceClear)},t.prototype.addInsightForPost=function(t){var e,n,i,r,o,a,s,c,u=Tt.profiler.info;for(e in u)switch(e){case"appError":if((c=u[e])&&"object"==typeof c)for(r in i=void 0,c)i=Number(r),isNaN(i)||(o=c[r])&&"string"==typeof o&&((n=o).length>32&&(n=n.substring(0,32)),t.addError(r,n));break;case"conversion":if(c=u[e],t.isConversion=!0,c&&"object"==typeof c)for(r in i=void 0,c)i=Number(r),isNaN(i)||(o=c[r])&&"number"==typeof o&&(t.revenue=i,t.revenueItems=o);break;case"indicator":(a=this.buildInsight(u[e],0))[0]&&t.addIndicator(a[1]);break;case"tracepoint":(s=this.buildInsight(u[e],""))[0]&&t.addTracepoint(s[1]);break;case"pageGroup":void 0!==(c=u[e])&&"string"==typeof c&&(t.pageGroup=c);break;case"variation":void 0!==(c=u[e])&&"string"==typeof c&&(t.variation=c)}},t.prototype.buildInsight=function(t,e){var n,i,r={},o=!1;if(t&&"object"==typeof t)for(n in t)n&&(null!=(i=t[n])&&typeof i==typeof e&&(r[n]=i,o=!0));return[o,r]},t.prototype.makeRequest=function(t,e,n){var i,r=e.toString(t,n);Tt.pageWindow.navigator&&"function"==typeof Tt.pageWindow.navigator.sendBeacon?Tt.pageWindow.navigator.sendBeacon(this.postUrl,r):(i=new XMLHttpRequest,window.XDomainRequest&&((i=new window.XDomainRequest).timeout=0,i.onload=function(){},i.onerror=function(){},i.ontimeout=function(){},i.onprogress=function(){}),i.open("POST",this.postUrl,!1),i.setRequestHeader&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(r),i=null)},t}(),At=function(t,e,n,i){function r(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){t.done?n(t.value):r(t.value).then(a,s)}c((i=i.apply(t,e||[])).next())}))},Ft=function(t,e){function n(t){return function(e){return i([t,e])}}function i(n){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,n[0]&&(c=0)),c;)try{if(r=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(a=c.trys,(a=a.length>0&&a[a.length-1])||6!==n[0]&&2!==n[0])){c=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){c.label=n[1];break}if(6===n[0]&&c.label<a[1]){c.label=a[1],a=n;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(n);break}a[2]&&c.ops.pop(),c.trys.pop();continue}n=e.call(t,c)}catch(t){n=[6,t],o=0}finally{r=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var r,o,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},_t=function(){return At(void 0,void 0,void 0,(function(){var t,e,n;return Ft(this,(function(i){switch(i.label){case 0:if(!document.getElementById||!window.attachEvent&&!window.addEventListener)return[2];if(!Tt.windowEvent||!Tt.profiler)return[2];!Tt.pageWindow.__cpPostUrl||(Tt.config.postUrl=Tt.pageWindow.__cpPostUrl.trim()),!Tt.pageWindow.__cpSendOnLoad||(Tt.config.sendOnLoad=!0===Tt.pageWindow.__cpSendOnLoad),t=function(){return At(void 0,void 0,void 0,(function(){return Ft(this,(function(t){switch(t.label){case 0:return[4,fetch("https://g.3gl.net/jp/"+s+"/v"+c+"/AC")];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t()];case 2:return e=i.sent(),Tt.setAppConfig({sampleRate:e.SampleRate,ajaxDomains:e.AjaxDomains,waterfallSampleRate:e.WaterfallSampleRate}),[3,4];case 3:return n=i.sent(),console.error("CP RUM Error",n),[3,4];case 4:return new Wt,[2]}}))}))},Ut=function(t){if(t&&t.startsWith("url")){var e=t.match(/url\(["']?([^"']*)["']?\)/),n=e&&e.length>1&&e[1];if(n&&!n.startsWith("data"))return n}return null},Bt=parent.window||window,qt=function(){Bt.CPVisuallyComplete=function(){var t=new(function(){function t(){var t=this;this.targetWindow=Bt,this.mutationObserver=void 0,this.start=0,this.waitMs=2e3,this.maxResourceTiming=0,this.mutationObserverVal=0,this.scroll="scroll",this.click="click",this.maxDiffBetweenMutation=1e3,this.sinceLastXHR=500,this.disconnectObserverTimeout=5e3,this.hasPerformance="object"==typeof this.targetWindow.performance&&"function"==typeof this.targetWindow.performance.getEntriesByType,this.removeListeners=function(){document.removeEventListener(t.scroll,t.clear),document.removeEventListener(t.click,t.clear)},this.addListeners=function(){document.addEventListener(t.scroll,t.clear),document.addEventListener(t.click,t.clear)},this.imageListener=function(e){for(var n=t.targetWindow.performance.getEntriesByType("resource"),i=void 0,r=0;r<n.length;r++)if(n[r].name===e.target.currentSrc){i=n[r];break}i&&(t.maxResourceTiming=Math.max(t.maxResourceTiming,Math.round(i.responseEnd))),e.currentTarget.removeEventListener("load",t.imageListener)},this.videoListener=function(e){t.maxResourceTiming=Math.max(t.maxResourceTiming,Math.round(t.getPerformanceTime())),e.currentTarget.removeEventListener("canplay",t.videoListener)},this.addListenersForDynamicContent=function(e){for(var n,i,r,o=e.querySelectorAll("img"),a=0;a<o.length;a+=1)n=o[a],t.isVisible(n)&&n.addEventListener("load",t.imageListener);for(i=e.querySelectorAll("video"),a=0;a<i.length;a+=1)r=i[a],t.isVisible(r)&&r.addEventListener("canplay",t.videoListener)},this.clear=function(){clearTimeout(t.timeout),t.removeListeners(),t.trigger()},this.onLoad=function(){t.timeout=window.setTimeout((function(){t.removeListeners(),t.calculate()}),t.waitMs)},this.getBackgroundImagesTiming=function(){for(var e,n,i,r,o,a,s,c,u,l=[],d=0;d<document.styleSheets.length;d+=1){e=document.styleSheets[d];try{for(n=0;n<e.cssRules.length;n+=1){var f=e.cssRules[n],h=f.selectorText,p=f.style;if(p)for(i=0;i<p.length;i+=1)"background-image"===(r=p[i])&&(o=p[r],(m=Ut(o))&&(a=t.targetWindow.document.querySelector(h),t.isVisible(a)&&l.push(m)))}}catch(t){}}for(s=t.targetWindow.document.querySelectorAll('[style*="background"]'),d=0;d<s.length;d++)if(t.isVisible(s[d])){var g=t.targetWindow.getComputedStyle(s[d]).getPropertyValue("background-image");(m=Ut(g))&&l.push(m)}for(c=0,u=l;c<u.length;c++){var m=u[c],v=t.targetWindow.performance.getEntriesByType("resource"),y=void 0;for(d=0;d<v.length;d++)if(v[d].name===new URL(m,t.targetWindow.location.href).href){y=v[d];break}y&&(t.maxResourceTiming=Math.max(t.maxResourceTiming,Math.round(y.responseEnd)))}},this.calculate=function(){t.targetWindow.performance?(t.getBackgroundImagesTiming(),t.trigger()):t.trigger()},this.getPerformanceTime=function(){return t.targetWindow.performance.now()},this.resetValueOnSoftNav=function(){t.mutationObserverVal=0,t.maxResourceTiming=0,t.isSoftNav=!1},this.isVisible=function(e){var n,i="function"==typeof e.getBoundingClientRect&&e.getBoundingClientRect();return!!(i&&i.width*i.height>=8&&i.right>=0&&i.bottom>=0&&i.left<=t.targetWindow.innerWidth&&i.top<=t.targetWindow.innerHeight&&!e.hidden&&"hidden"!==e.type)&&("none"!==(n=window.getComputedStyle(e)).display&&"hidden"!==n.visibility&&"collapse"!==n.visibility&&+n.opacity>0)},this.mutationCallback=function(e){e.forEach((function(e){var n,i,r,o,a;if("childList"===e.type&&e.addedNodes.length>0){if(n=e.addedNodes[0],t.isVisible(n)){for("img"===n.nodeName.toLowerCase()&&n.addEventListener("load",t.imageListener),"video"===n.nodeName.toLowerCase()&&n.addEventListener("canplay",t.videoListener),i=t.getPerformanceTime(),t.isSoftNav&&t.resetValueOnSoftNav(),r=t.targetWindow.performance.getEntriesByType("resource"),o=void 0,a=0;a<r.length;a++)if("xmlhttprequest"===r[a].initiatorType){o=r[a];break}(0===t.mutationObserverVal||o&&i-o.responseEnd<t.sinceLastXHR||i-t.mutationObserverVal<=t.maxDiffBetweenMutation)&&(t.mutationObserverVal=Math.round(i))}}else"attributes"===e.type&&"img"===e.target.nodeName.toLowerCase()&&"src"===e.attributeName&&t.isVisible(e.target)&&e.target.addEventListener("load",t.imageListener)}))},this.initMutationObserver=function(){var e=t.targetWindow.MutationObserver||t.targetWindow.WebKitMutationObserver||t.targetWindow.MozMutationObserver;e&&t.targetWindow.performance&&(t.mutationObserver=new e(t.mutationCallback),t.observe())},this.trigger=function(){if(t.callback){var e=t.getValue(!1);t.callback(e)}},this.observe=function(){t.mutationObserver.observe(t.targetWindow.document,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),setTimeout((function(){t.mutationObserver.disconnect()}),t.disconnectObserverTimeout)},this.getValue=function(e){var n,i=e||t.isSoftNav;return t.maxResourceTiming||t.mutationObserverVal?(n=0,t.maxResourceTiming&&t.mutationObserverVal?n=Math.max(t.maxResourceTiming,t.mutationObserverVal):t.maxResourceTiming?n=t.maxResourceTiming:t.mutationObserverVal&&(n=t.mutationObserverVal),i?Math.round(n-t.start):Math.round(Math.max(n-t.start,t.getFirstPaintTime()))):void 0},this.onComplete=function(e){t.callback=e},this.reset=function(){t.isSoftNav=!0,t.targetWindow.performance&&(t.start=t.getPerformanceTime(),t.mutationObserver.disconnect(),t.observe(),t.onLoad())},this.captureSoftNavigations=function(){var e,n,i,r,o,a,s;t.targetWindow.HashChangeEvent&&!t.targetWindow.RProfiler&&(t.addEvent("hashchange",t.targetWindow,t.reset),e=t.targetWindow.history)&&(n="function",typeof e.go===n&&(i=e.go,e.go=function(n){t.reset(),i.call(e,n)}),typeof e.back===n&&(r=e.back,e.back=function(){t.reset(),r.call(e)}),typeof e.forward===n&&(o=e.forward,e.forward=function(){t.reset(),o.call(e)}),typeof e.pushState===n&&(a=e.pushState,e.pushState=function(n,i,r){t.reset(),a.call(e,n,i,r)}),typeof e.replaceState===n&&(s=e.replaceState,e.replaceState=function(n,i,r){t.reset(),s.call(e,n,i,r)}))},this.initMutationObserver(),this.captureSoftNavigations(),this.init()}return t.prototype.init=function(){var t=this,e=this.targetWindow.document;"complete"===e.readyState?this.onLoad():this.targetWindow.addEventListener("load",this.onLoad),"interactive"===e.readyState?this.addListenersForDynamicContent(e):this.targetWindow.addEventListener("DOMContentLoaded",(function(){t.addListenersForDynamicContent(e)})),this.removeListeners(),this.addListeners()},t.prototype.addEvent=function(t,e,n){this.targetWindow.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},t.prototype.getFirstPaintTime=function(){var t,e,n,i=0;try{(t=this.targetWindow.performance.getEntriesByType("paint"))&&t.length>0&&((e=t.filter((function(t){return"first-paint"===t.name})))&&e.length>0&&e[0].startTime&&(i=Math.round(e[0].startTime)),(n=t.filter((function(t){return"first-contentful-paint"===t.name})))&&n.length>0&&n[0].startTime&&(i=Math.round(n[0].startTime)))}catch(t){}return i},t}());return{getValue:t.getValue,onComplete:t.onComplete,reset:t.reset}}()},Ht=new(function(){function t(){this.clickCount=0,this.rageClickLimit=3,this.timeoutDuration=1e3,this.rageClickValue=null}return t.prototype.startListening=function(){this.clicklistener()},t.prototype.getRageClick=function(){return this.rageClickValue},t.prototype.clicklistener=function(){var t,e=this;this.clickCount++,t=setInterval((function(){e.clickCount=0,clearInterval(t)}),this.timeoutDuration),this.clickCount>=this.rageClickLimit&&(this.rageClickValue=1,clearInterval(t))},t}()),zt=new(function(){function t(){this.error="",this.errorClickValue=null}return t.prototype.startListening=function(){var t=this;window.onerror=function(e){t.error=e},this.clicklistener()},t.prototype.getErrorClick=function(){return this.errorClickValue},t.prototype.clicklistener=function(){var t=this;setTimeout((function(){t.error&&(t.errorClickValue=1)}),0)},t}()),Gt=new(function(){function t(){this.clickCounts={},this.deadClickLimit=2,this.deadClickValue=null,this.timeoutDuration=1e3}return t.prototype.getDeadClick=function(){return this.deadClickValue},t.prototype.clickListener=function(t){var e=this,n=setInterval((function(){e.clickCounts={},clearInterval(n)}),this.timeoutDuration),i=function(t){var e=""!==t.className?".".concat(t.className):"",n=""!==t.id?"#".concat(t.id):"";return[t.nodeName,e,n].join(" ")}(t.target);this.clickCounts[i]=this.clickCounts[i]?this.clickCounts[i]+1:1,this.clickCounts[i]===this.deadClickLimit&&(this.deadClickValue=1,clearInterval(n))},t.prototype.startListening=function(t){this.clickListener(t)},t}()),Xt=new(function(){function t(){var t,e=this;this.mouseMoveListener=function(t){var n=Math.sign(t.movementX);e.distance+=Math.abs(t.movementX)+Math.abs(t.movementY),n!==e.direction&&(e.direction=n,e.directionChangeCount++)},this.directionChangeCount=0,this.distance=0,this.interval=350,this.threshold=.01,this.thrashedCursorValue=!1,t=setInterval((function(){var n,i=e.distance/e.interval;e.velocity?(n=(i-e.velocity)/e.interval,e.directionChangeCount&&n>e.threshold&&(clearInterval(t),e.thrashedCursorValue=!0),e.distance=0,e.directionChangeCount=0,e.velocity=i):e.velocity=i}),this.interval)}return t.prototype.getThrashedCursor=function(){return this.thrashedCursorValue},t.prototype.startListening=function(t){this.mouseMoveListener(t)},t}()),Kt=new(function(){function t(){}return t.prototype.listenClickEvent=function(t){Ht.startListening(t),zt.startListening(t),Gt.startListening(t)},t.prototype.listenMouseMove=function(t){Xt.startListening(t)},t.prototype.startListeningClickEvent=function(){window.addEventListener("click",this.listenClickEvent.bind(this))},t.prototype.stopListeningClickEvent=function(){window.removeEventListener("click",this.listenClickEvent.bind(this))},t.prototype.startListeningMouseMove=function(){window.addEventListener("mousemove",this.listenMouseMove.bind(this))},t.prototype.stopListeningMouseMove=function(){window.removeEventListener("mousemove",this.listenMouseMove.bind(this))},t}()),Jt=function(){return(Jt=Object.assign||function(t){for(var e,n,i=1,r=arguments.length;i<r;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},Qt=function(){function t(){var t,e,n=this;this.restUrl="g.3gl.net/jp/"+s+"/v"+c+"/M",this.startTime=(new Date).getTime(),this.eventsTimingHandler=new mt,this.inputDelay=new vt,this.inpDe=[],this.version="v"+c,this.info={},this.hasInsight=!1,this.data={start:this.startTime,jsCount:0,jsErrors:[],loadTime:-1,loadFired:"complete"==window.document.readyState},this.eventManager=new gt,this.setCLS=function(t){var e=t.name,i=t.delta,r="CLS"===e?i:void 0;n.cls=r},this.setLCP=function(t){var e=t.name,i=t.value,r="LCP"===e?i:void 0;t.delta>=0&&i>0&&(n.lcp=r)},this.setINP=function(t){var e,i=t.name,r=t.value,o=t.attribution;"INP"===i&&(n.inp=r,r>200&&(e={t:o.interactionTarget,eTy:o.interactionType,sTi:bt.getRoundedValue(o.interactionTime),indl:bt.getRoundedValue(o.inputDelay),psdu:bt.getRoundedValue(o.processingDuration),prdl:bt.getRoundedValue(o.presentationDelay),val:bt.getRoundedValue(r),ls:bt.getLoadStateEnum(o.loadState)},n.inpDe.push(Jt({},e)),n.inpDe.sort((function(t,e){return e.val-t.val})),10===n.inpDe.length&&n.inpDe.pop()))},this.recordPageLoad=function(){n.data.loadTime=(new Date).getTime(),n.data.loadFired=!0},this.addError=function(t,e,i){var r,o,a,s,c;for(n.data.jsCount++,r=yt.createText(t,e,i),a=0,s=o=n.data.jsErrors;a<s.length;a++)if((c=s[a]).getText()==r)return void c.count++;o.push(new yt(t,e,i))},this.getAjaxRequests=function(){return n.ajaxHandler.getAjaxRequests()},this.clearAjaxRequests=function(){n.ajaxHandler.clear()},this.addInfo=function(t,e,i){if(!n.isNullOrEmpty(t)){if(n.isNullOrEmpty(i))n.info[t]=e;else{if(n.isNullOrEmpty(e))return;n.isNullOrEmpty(n.info[t])&&(n.info[t]={}),n.info[t][e]=i}n.hasInsight=!0}},this.clearInfo=function(){n.info={},n.hasInsight=!1},this.clearErrors=function(){n.data.jsCount=0,n.data.jsErrors=[]},this.getInfo=function(){return n.hasInsight?n.info:null},this.getEventTimingHandler=function(){return n.eventsTimingHandler},this.getInputDelay=function(){return n.inputDelay},this.getCPWebVitals=function(){return W(n.setCLS),lt(n.setLCP),st(n.setINP),{cls:n.cls,lcp:n.lcp,inp:n.inp,inpDe:n.inpDe}},this.getFrustrationMetrics=function(){return{frc:Ht.getRageClick(),fec:zt.getErrorClick(),fdc:Gt.getDeadClick(),ftc:Xt.getThrashedCursor()}},this.eventManager.add(ot.Load,window,this.recordPageLoad),t=this.addError,this.ajaxHandler=new pt,W(this.setCLS),lt(this.setLCP,{reportAllChanges:!0}),st(this.setINP,{reportAllChanges:!0}),Kt.startListeningClickEvent(),Kt.startListeningMouseMove(),window.opera?this.eventManager.add(ot.Error,document,(function(e){var n=e.target||e.srcElement;return 3==n.nodeType&&(n=n.parentNode),t("N/A",n.src||n.URL,-1),!1})):"onerror"in window&&(e=window.onerror,window.onerror=function(n,i,r){return t(n,null!=i?i:"",null!=r?r:0),!!e&&e(n,i,r)}),"onunhandledrejection"in window&&(window.onunhandledrejection=function(e){var n,i,r,o=null!==(n=e.reason.stack)&&void 0!==n?n:"",a=""!==o?o.split("at"):[],s=a[1]?a[1].replace(/:\d+/g,""):"",c=a[1]?a[1].match(/:\d+/g):[],u=c[0]?c[0].replace(":",""):0;t(null!==(r=null===(i=a[0])||void 0===i?void 0:i.trim())&&void 0!==r?r:"N/A",s.trim(),u)}),!window.__cpCdnPath||(this.restUrl=window.__cpCdnPath.trim())}return t.prototype.isNullOrEmpty=function(t){return null==t||"string"==typeof t&&0==t.trim().length},t.prototype.dispatchCustomEvent=function(t){!function(t){function e(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}if("function"==typeof t.CustomEvent)return!1;e.prototype=Event.prototype,t.CustomEvent=e}(window);var e=new CustomEvent(t);window.dispatchEvent(e)},t}(),Yt=Qt,$t=new Qt;window.RProfiler=$t,window.WindowEvent=ot,"complete"===document.readyState?(Tt.initValues(),_t(),qt()):document.onreadystatechange=function(){"complete"===document.readyState&&(Tt.initValues(),_t(),qt())},$t.dispatchCustomEvent("GlimpseLoaded")}()}});
//# sourceMappingURL=catchpointWebtag.js.map
